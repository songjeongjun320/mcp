# MCP Server Configuration with SSE Transport Mode
# This configuration file sets up an MCP server with various tools for data retrieval,
# document processing, communication, and utility operations.

mcp_server:
  mcp_transport_mode: "sse"
  mcp_tools:
    - tool_name: pull_projects
      tool_description: "Call this tool if user want to check, list up or retrieve detailed information about our projects. It provides all projects's information, names, and descriptions."
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Unique identifier of the organization to pull project ids from database"
        - arg_variable: "message"
          arg_type: string
          arg_description: "user's request message"
    
    - tool_name: pull_documents
      tool_description: "Get documents' names, descriptions from database"
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Unique identifier of the organization to pull project ids and document ids from database"
        - arg_variable: "message"
          arg_type: string
          arg_description: "user's request message"

    - tool_name: pull_members
      tool_description: "Get member information from projects or organizations"
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Unique identifier of the organization to pull project ids and document ids from database"
        - arg_variable: "message"
          arg_type: string
          arg_description: "user's request message"

    - tool_name: mail_to
      tool_description: "Send email messages to specified recipients with attachment support"
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Unique identifier of the organization to pull project ids and document ids from database"
        - arg_variable: "sender"
          arg_type: string
          arg_description: "name of the sender"
        - arg_variable: "recipient"
          arg_type: string
          arg_description: "name of the recipient"
        - arg_variable: "recipient_email"
          arg_type: string
          arg_description: "recipient's email address"
        - arg_variable: "subject"
          arg_type: string
          arg_description: "subject of the email"
        - arg_variable: "body"
          arg_type: string
          arg_description: "body of the email"
        - arg_variable: "message"
          arg_type: string
          arg_description: "user's request message"

    # ===================================================================
    # Traceability Tools - Requirement Hierarchy Analysis
    # ===================================================================

    - tool_name: traceability_get_all_trees
      tool_description: "**RECOMMENDED** Get ALL projects' requirement traceability hierarchies for an organization at once. Shows parent-child relationships, depth levels, and complete hierarchy paths for every project. Use this to see the complete traceability picture across all projects. NOTE: If you don't have organization_id, use pull_projects first to get it."
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Organization ID to get all project trees for"
        - arg_variable: "include_metadata"
          arg_type: boolean
          arg_description: "Include statistics (total nodes, root nodes, max depth) - default: true"

    - tool_name: traceability_get_tree
      tool_description: "Get complete requirement traceability hierarchy tree for a SINGLE project. Shows parent-child relationships, depth levels, and full hierarchy path for all requirements in the specified project. NOTE: If you don't have project_id, use pull_projects first to get it."
      tool_args:
        - arg_variable: "project_id"
          arg_type: string
          arg_description: "UUID of the project to get tree for"
        - arg_variable: "include_metadata"
          arg_type: boolean
          arg_description: "Include statistics (total nodes, root nodes, max depth) - default: true"

    - tool_name: traceability_query_hierarchy
      tool_description: "Query hierarchical relationships (ancestors/descendants) for a specific requirement. Useful for understanding a particular requirement's dependencies and structure."
      tool_args:
        - arg_variable: "organization_id"
          arg_type: string
          arg_description: "Organization ID for access control"
        - arg_variable: "requirement_id"
          arg_type: string
          arg_description: "UUID of the requirement to query relationships for"
        - arg_variable: "direction"
          arg_type: string
          arg_description: "Query direction: 'ancestors', 'descendants', or 'both' - default: 'both'"
        - arg_variable: "max_depth"
          arg_type: integer
          arg_description: "Maximum depth to traverse - default: 10"
        - arg_variable: "include_metadata"
          arg_type: boolean
          arg_description: "Include timing and count metadata - default: true"
